{"version":3,"sources":["webpack:///./src/images/student.jpg","webpack:///./node_modules/copy-to-clipboard/index.js","webpack:///./node_modules/@material/react-card/dist/index.js","webpack:///./node_modules/striptags/src/striptags.js","webpack:///./node_modules/react-text-truncate/lib/index.js","webpack:///./node_modules/toggle-selection/index.js","webpack:///./src/datocms/query-datocms.js","webpack:///./node_modules/react-tooltip-lite/dist/Portal.js","webpack:///./src/components/ocw-users.js","webpack:///./src/components/ocw-user-card-loading.js","webpack:///./src/components/ocw-user-card.js","webpack:///./src/pages/index.js","webpack:///./src/images/lifelong-learner.jpg","webpack:///./node_modules/react-tooltip-lite/dist/position.js","webpack:///./node_modules/react-tooltip-lite/dist/getDirection.js","webpack:///./node_modules/react-tooltip-lite/dist/index.js","webpack:///./src/images/educator.jpg","webpack:///./src/components/courseware-card.js"],"names":["module","exports","deselectCurrent","defaultMessage","text","options","debug","message","reselectPrevious","range","selection","mark","success","document","createRange","getSelection","createElement","textContent","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","format","preventDefault","clipboardData","clearData","setData","body","appendChild","selectNodeContents","addRange","execCommand","Error","err","console","error","warn","window","copyKey","test","navigator","userAgent","replace","prompt","removeRange","removeAllRanges","removeChild","t","r","self","n","a","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","prototype","hasOwnProperty","p","s","0","1","18","CSS_CLASSES","ROOT","OUTLINED","PRIMARY_ACTION","MEDIA","MEDIA_SQUARE","MEDIA_16_9","MEDIA_CONTENT","ACTIONS","ACTIONS_FULL_BLEED","ACTION_BUTTONS","ACTION_ICONS","ACTION","ACTION_BUTTON","ACTION_ICON","47","this","__assign","assign","arguments","length","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","CardActionButtons","CardActionIcons","u","CardActions","f","CardPrimaryContent","CardMedia","children","className","outlined","48","Children","map","props","cloneElement","49","5","50","fullBleed","51","PrimaryContentBase","initRipple","unbounded","ref","withRipple","52","imageUrl","backgroundImage","contentClassName","square","_","O","wide","S","y","v","b","h","C","global","name","nonNative","STATE_PLAINTEXT","STATE_HTML","STATE_COMMENT","ALLOWED_TAGS_REGEX","NORMALIZE_TAG_REGEX","striptags","html","allowable_tags","tag_replacement","striptags_internal","init_context","match","tag_set","Set","exec","add","iterator","forEach","parse_allowable_tags","state","tag_buffer","depth","in_quote_char","context","output","idx","_char","has","normalize_tag","slice","toLowerCase","init_streaming_mode","_react","_propTypes","undefined","_react2","_interopRequireDefault","_propTypes2","obj","_typeof","constructor","_objectWithoutProperties","source","excluded","key","target","sourceKeys","keys","_objectWithoutPropertiesLoose","sourceSymbolKeys","_defineProperties","descriptor","configurable","writable","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","ReferenceError","_setPrototypeOf","_defineProperty","TextTruncate","_Component","_getPrototypeOf2","_this","instance","Constructor","TypeError","_classCallCheck","_len","args","Array","_key","_possibleConstructorReturn","concat","rafId","cancelAnimationFrame","requestAnimationFrame","update","truncated","onToggled","setTimeout","onTruncated","onCalculated","getComputedStyle","scope","font","join","canvas","forceUpdate","protoProps","staticProps","subClass","superClass","_inherits","docFragment","createDocumentFragment","getContext","onResize","removeEventListener","Math","ceil","measureText","width","_this$props","line","containerClassName","element","textElement","textTruncateChild","truncateText","maxCalculateTimes","scopeWidth","getBoundingClientRect","measureWidth","childText","type","currentPos","maxTextLength","truncatedText","splitPos","startPos","displayLine","lastIsEng","isPrevLineWithoutSpace","lastPos","lastSpaceIndex","ext","loopCnt","substr","lastIndexOf","_this2","_this$props2","_this$props2$style","fontWeight","fontStyle","fontSize","fontFamily","renderText","getRenderText","rootProps","el","overflow","Component","string","oneOfType","number","bool","func","node","rangeCount","active","activeElement","ranges","push","getRangeAt","tagName","toUpperCase","blur","focus","logErrors","errors","log","getCourseFeatureIds","courseFeatureRegex","async","recordsToSkip","makeNewQuery","result","client","query","gql","allCourseFeatures","data","item","id","getCourseCollectionIds","courseCollectionRegex","allCourseCollections","getCoursewares","courseSearch","courseTopic","courseFeature","courseLevel","courseSearchRegex","courseCollectionIds","courseFeatureIds","courseLevelRegex","allCoursewares","getCoursewaresByIds","courseIds","getLifelongLearnerCourseIds","getEducatorCourseIds","getStudentCourseIds","isBrowser","_reactDom","useCreatePortal","createPortal","Portal","_React$Component","container","renderLayer","unmountComponentAtNode","unstable_renderSubtreeIntoContainer","propTypes","isRequired","_default","OcwUsers","Store","useContainer","setCourseTopic","setCourseFeature","setCourseLevel","setUserState","useCallback","user","navigateToDiscovery","event","currentTarget","getAttribute","navigate","styles","cardList","card","image","src","lifelongLearner","alt","data-user","onClick","title","description","educator","student","OcwUserCardLoading","coursewareListLoading","spinner","COURSEWARE_QUERY","OcwUserCard","favoriteCoursewares","useQuery","variables","coursewareUid","skip","loading","courseware","cardType","IndexPage","useState","lifelongLearnerCourseId","setlifelongLearnerCourseId","studentCourseId","setStudentCourseId","educatorCourseId","setEducatorCourseId","syncedCoursewares","setSyncedCoursewares","setFavoriteCoursewares","useContext","FaunaContext","coursewareStore","online","onLine","randomItem","arr","floor","random","siteMetadata","useSiteMetadata","useEffect","indices","newSyncedCoursewares","index","uid","JSON","parse","isAuthenticated","localStorage","getItem","q","Map","Paginate","Match","Index","Lambda","Get","Var","initResult","users","find","Create","Collection","readResult","content","navigateToCourseware","userStyles","cardListBottom","cardDescription","syncedCoursewaresEl","syncedCourseware","coursewareContent","shortid","href","data-courseware-uid","departmentNumber","masterCourseNumber","siteTitle","siteDescription","ocwDescription","getScrollLeft","getArrowSpacing","direction","forceDirection","tip","alignMode","directionArray","split","parseAlignMode","trimmedDirection","realDirection","testArrowStyles","arrow","getArrowStyles","_getDirection","bodyPadding","maxWidth","getTipMaxWidth","spacer","min","offsetWidth","_objectSpread","getUpDownPosition","getLeftRightPosition","minArrowPadding","ownKeys","filter","sym","getOwnPropertyDescriptor","noArrowDistance","getScrollTop","pageYOffset","documentElement","scrollTop","pageXOffset","scrollLeft","clientWidth","defaultArrowSpacing","arrowSize","distance","left","transform","showTip","arrowSpacing","targetRect","targetLeft","halfTargetWidth","round","tipWidth","arrowCenter","arrowLeft","arrowRight","rightWithArrow","max","rightEdge","centeredLeft","availableSpaceOnLeft","rightOverhang","offsetHeight","bottom","arrowPadding","targetTop","halfTargetHeight","arrowTop","arrowBottom","topForBottomAlign","centeredTop","bottomOverhang","innerHeight","right","borderStyles","borderTop","borderBottom","background","borderRight","borderRightWidth","borderRightStyle","borderLeft","borderLeftWidth","borderLeftStyle","borderTopWidth","borderTopStyle","borderBottomWidth","borderBottomStyle","getDirection","currentDirection","arrowStyles","recursive","_position","heightOfTipWithArrow","spaceBelowTarget","spaceAboveTarget","hasSpaceBelow","hasSpaceAbove","checkLeftRightWidthSufficient","checkTargetSufficientlyVisible","checkForArrowOverhang","deadSpace","topOverhang","arrowClearance","bottomOverhangAmount","topOverhangAmount","hasLeftClearance","hasRightClearance","_Portal","newObj","desc","set","_interopRequireWildcard","_extends","_createClass","stopProp","Tooltip","hasHover","ignoreShow","hasBeenShown","hideTip","checkHover","toggleTip","startHover","endHover","listenResizeScroll","handleResizeScroll","nextProps","isOpen","setState","prevState","clearTimeout","debounceTimeout","hoverTimeout","hoverDelay","mouseOutDelay","tipPortal","color","eventOff","eventOn","eventToggle","padding","TagName","tipContentHover","tipContentClassName","useDefaultStyles","useHover","isControlledByProps","portalProps","onMouseEnter","onMouseLeave","onTouchStart","currentPositions","tipStyles","boxSizing","zIndex","display","height","object","CoursewareCard","includes","favorite","setFavorite","synced","setSynced","syncing","setSyncing","syncingUid","useIndividualCoursewareQuery","del","stringify","filledFavoriteIcon","hollowFavoriteIcon","favoriteIcon","syncIcon","shareIcon","favoriteHandleClick","newFavoriteCoursewares","splice","Update","syncHandleClick","shareHandleClick","copy","location","host","trackingTitle","imageSrc","dense"],"mappings":"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","file":"component---src-pages-index-js-caad608ea466e11a1fb6.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/student-c8a6e23ded31926df5c249f56f237c17.jpg\";","\"use strict\";\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n      message,\n      reselectPrevious,\n      range,\n      selection,\n      mark,\n      success = false;\n\n  if (!options) {\n    options = {};\n  }\n\n  debug = options.debug || false;\n\n  try {\n    reselectPrevious = deselectCurrent();\n    range = document.createRange();\n    selection = document.getSelection();\n    mark = document.createElement(\"span\");\n    mark.textContent = text; // reset user styles for span element\n\n    mark.style.all = \"unset\"; // prevents scrolling to the end of the page\n\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\"; // used to preserve spaces and line breaks\n\n    mark.style.whiteSpace = \"pre\"; // do not inherit user-select (it may be `none`)\n\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function (e) {\n      e.stopPropagation();\n\n      if (options.format) {\n        e.preventDefault();\n        e.clipboardData.clearData();\n        e.clipboardData.setData(options.format, text);\n      }\n    });\n    document.body.appendChild(mark);\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n    var successful = document.execCommand(\"copy\");\n\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;","require(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\n!function (e, t) {\n  if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = t(require(\"react\"), require(\"classnames\"), require(\"@material/react-ripple/dist/index.js\"));else if (\"function\" == typeof define && define.amd) define([\"react\", \"classnames\", \"@material/react-ripple/dist/index.js\"], t);else {\n    var r = \"object\" == typeof exports ? t(require(\"react\"), require(\"classnames\"), require(\"@material/react-ripple/dist/index.js\")) : t(e.react, e.classnames, e[\"@material/react-ripple/dist/index.js\"]);\n\n    for (var n in r) {\n      (\"object\" == typeof exports ? exports : e)[n] = r[n];\n    }\n  }\n}(\"undefined\" != typeof self ? self : this, function (e, t, r) {\n  return function (e) {\n    var t = {};\n\n    function r(n) {\n      if (t[n]) return t[n].exports;\n      var a = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(a.exports, a, a.exports, r), a.l = !0, a.exports;\n    }\n\n    return r.m = e, r.c = t, r.d = function (e, t, n) {\n      r.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (e, t) {\n      if (1 & t && (e = r(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var a in e) {\n        r.d(n, a, function (t) {\n          return e[t];\n        }.bind(null, a));\n      }\n      return n;\n    }, r.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e[\"default\"];\n      } : function () {\n        return e;\n      };\n      return r.d(t, \"a\", t), t;\n    }, r.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r.p = \"\", r(r.s = 47);\n  }({\n    0: function _(t, r) {\n      t.exports = e;\n    },\n    1: function _(e, r) {\n      e.exports = t;\n    },\n    18: function _(e, t, r) {\n      \"use strict\";\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      t.CSS_CLASSES = {\n        ROOT: \"mdc-card\",\n        OUTLINED: \"mdc-card--outlined\",\n        PRIMARY_ACTION: \"mdc-card__primary-action\",\n        MEDIA: \"mdc-card__media\",\n        MEDIA_SQUARE: \"mdc-card__media--square\",\n        MEDIA_16_9: \"mdc-card__media--16-9\",\n        MEDIA_CONTENT: \"mdc-card__media-content\",\n        ACTIONS: \"mdc-card__actions\",\n        ACTIONS_FULL_BLEED: \"mdc-card__actions--full-bleed\",\n        ACTION_BUTTONS: \"mdc-card__action-buttons\",\n        ACTION_ICONS: \"mdc-card__action-icons\",\n        ACTION: \"mdc-card__action\",\n        ACTION_BUTTON: \"mdc-card__action--button\",\n        ACTION_ICON: \"mdc-card__action--icon\"\n      };\n    },\n    47: function _(e, t, r) {\n      \"use strict\";\n\n      var n = this && this.__assign || function () {\n        return (n = Object.assign || function (e) {\n          for (var t, r = 1, n = arguments.length; r < n; r++) {\n            for (var a in t = arguments[r]) {\n              Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n            }\n          }\n\n          return e;\n        }).apply(this, arguments);\n      },\n          a = this && this.__rest || function (e, t) {\n        var r = {};\n\n        for (var n in e) {\n          Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n        }\n\n        if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var a = 0;\n\n          for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) {\n            t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]);\n          }\n        }\n\n        return r;\n      },\n          o = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          \"default\": e\n        };\n      };\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var i = o(r(0)),\n          l = o(r(1)),\n          c = o(r(48));\n      t.CardActionButtons = c[\"default\"];\n      var s = o(r(49));\n      t.CardActionIcons = s[\"default\"];\n      var u = o(r(50));\n      t.CardActions = u[\"default\"];\n      var f = o(r(51));\n      t.CardPrimaryContent = f[\"default\"];\n      var d = o(r(52));\n      t.CardMedia = d[\"default\"];\n      var p = r(18);\n\n      t[\"default\"] = function (e) {\n        var t,\n            r = e.children,\n            o = e.className,\n            c = void 0 === o ? \"\" : o,\n            s = e.outlined,\n            u = void 0 !== s && s,\n            f = a(e, [\"children\", \"className\", \"outlined\"]),\n            d = l[\"default\"](p.CSS_CLASSES.ROOT, c, ((t = {})[p.CSS_CLASSES.OUTLINED] = u, t));\n        return i[\"default\"].createElement(\"div\", n({\n          className: d\n        }, f), r);\n      };\n    },\n    48: function _(e, t, r) {\n      \"use strict\";\n\n      var n = this && this.__assign || function () {\n        return (n = Object.assign || function (e) {\n          for (var t, r = 1, n = arguments.length; r < n; r++) {\n            for (var a in t = arguments[r]) {\n              Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n            }\n          }\n\n          return e;\n        }).apply(this, arguments);\n      },\n          a = this && this.__rest || function (e, t) {\n        var r = {};\n\n        for (var n in e) {\n          Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n        }\n\n        if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var a = 0;\n\n          for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) {\n            t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]);\n          }\n        }\n\n        return r;\n      },\n          o = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          \"default\": e\n        };\n      };\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var i = o(r(0)),\n          l = o(r(1)),\n          c = r(18);\n\n      t[\"default\"] = function (e) {\n        var t = e.className,\n            r = void 0 === t ? \"\" : t,\n            o = e.children,\n            s = a(e, [\"className\", \"children\"]),\n            u = l[\"default\"](c.CSS_CLASSES.ACTION_BUTTONS, r);\n        return o ? i[\"default\"].createElement(\"div\", n({\n          className: u\n        }, s), function (e) {\n          return i[\"default\"].Children.map(e, function (e) {\n            var t = l[\"default\"](e.props.className, c.CSS_CLASSES.ACTION, c.CSS_CLASSES.ACTION_BUTTON),\n                r = Object.assign({}, e.props, {\n              className: t\n            });\n            return i[\"default\"].cloneElement(e, r);\n          });\n        }(o)) : null;\n      };\n    },\n    49: function _(e, t, r) {\n      \"use strict\";\n\n      var n = this && this.__assign || function () {\n        return (n = Object.assign || function (e) {\n          for (var t, r = 1, n = arguments.length; r < n; r++) {\n            for (var a in t = arguments[r]) {\n              Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n            }\n          }\n\n          return e;\n        }).apply(this, arguments);\n      },\n          a = this && this.__rest || function (e, t) {\n        var r = {};\n\n        for (var n in e) {\n          Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n        }\n\n        if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var a = 0;\n\n          for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) {\n            t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]);\n          }\n        }\n\n        return r;\n      },\n          o = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          \"default\": e\n        };\n      };\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var i = o(r(0)),\n          l = o(r(1)),\n          c = r(18);\n\n      t[\"default\"] = function (e) {\n        var t = e.className,\n            r = void 0 === t ? \"\" : t,\n            o = e.children,\n            s = a(e, [\"className\", \"children\"]),\n            u = l[\"default\"](c.CSS_CLASSES.ACTION_ICONS, r);\n        return o ? i[\"default\"].createElement(\"div\", n({\n          className: u\n        }, s), function (e) {\n          return i[\"default\"].Children.map(e, function (e) {\n            var t = l[\"default\"](e.props.className, c.CSS_CLASSES.ACTION, c.CSS_CLASSES.ACTION_ICON),\n                r = Object.assign({}, e.props, {\n              className: t\n            });\n            return i[\"default\"].cloneElement(e, r);\n          });\n        }(o)) : null;\n      };\n    },\n    5: function _(e, t) {\n      e.exports = r;\n    },\n    50: function _(e, t, r) {\n      \"use strict\";\n\n      var n = this && this.__assign || function () {\n        return (n = Object.assign || function (e) {\n          for (var t, r = 1, n = arguments.length; r < n; r++) {\n            for (var a in t = arguments[r]) {\n              Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n            }\n          }\n\n          return e;\n        }).apply(this, arguments);\n      },\n          a = this && this.__rest || function (e, t) {\n        var r = {};\n\n        for (var n in e) {\n          Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n        }\n\n        if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var a = 0;\n\n          for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) {\n            t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]);\n          }\n        }\n\n        return r;\n      },\n          o = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          \"default\": e\n        };\n      };\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var i = o(r(0)),\n          l = o(r(1)),\n          c = r(18);\n\n      t[\"default\"] = function (e) {\n        var t,\n            r = e.className,\n            o = void 0 === r ? \"\" : r,\n            s = e.children,\n            u = e.fullBleed,\n            f = void 0 !== u && u,\n            d = a(e, [\"className\", \"children\", \"fullBleed\"]),\n            p = l[\"default\"](c.CSS_CLASSES.ACTIONS, o, ((t = {})[c.CSS_CLASSES.ACTIONS_FULL_BLEED] = f, t));\n        return i[\"default\"].createElement(\"div\", n({\n          className: p\n        }, d), s);\n      };\n    },\n    51: function _(e, t, r) {\n      \"use strict\";\n\n      var n = this && this.__assign || function () {\n        return (n = Object.assign || function (e) {\n          for (var t, r = 1, n = arguments.length; r < n; r++) {\n            for (var a in t = arguments[r]) {\n              Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n            }\n          }\n\n          return e;\n        }).apply(this, arguments);\n      },\n          a = this && this.__rest || function (e, t) {\n        var r = {};\n\n        for (var n in e) {\n          Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n        }\n\n        if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var a = 0;\n\n          for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) {\n            t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]);\n          }\n        }\n\n        return r;\n      },\n          o = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          \"default\": e\n        };\n      };\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n      var i = o(r(0)),\n          l = o(r(1)),\n          c = r(5),\n          s = r(18);\n      t.PrimaryContentBase = function (e) {\n        var t = e.className,\n            r = void 0 === t ? \"\" : t,\n            o = e.initRipple,\n            c = e.children,\n            u = (e.unbounded, a(e, [\"className\", \"initRipple\", \"children\", \"unbounded\"])),\n            f = l[\"default\"](s.CSS_CLASSES.PRIMARY_ACTION, r);\n        return i[\"default\"].createElement(\"div\", n({\n          className: f,\n          ref: o\n        }, u), c);\n      }, t[\"default\"] = c.withRipple(t.PrimaryContentBase);\n    },\n    52: function _(e, t, r) {\n      \"use strict\";\n\n      var n = this && this.__assign || function () {\n        return (n = Object.assign || function (e) {\n          for (var t, r = 1, n = arguments.length; r < n; r++) {\n            for (var a in t = arguments[r]) {\n              Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n            }\n          }\n\n          return e;\n        }).apply(this, arguments);\n      },\n          a = this && this.__rest || function (e, t) {\n        var r = {};\n\n        for (var n in e) {\n          Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n        }\n\n        if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var a = 0;\n\n          for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) {\n            t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]);\n          }\n        }\n\n        return r;\n      },\n          o = this && this.__importDefault || function (e) {\n        return e && e.__esModule ? e : {\n          \"default\": e\n        };\n      };\n\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n\n      var i = o(r(0)),\n          l = o(r(1)),\n          c = r(18),\n          s = function s(e) {\n        var t = e.imageUrl,\n            r = e.style;\n        return Object.assign({}, {\n          backgroundImage: \"url(\" + t + \")\"\n        }, r);\n      };\n\n      t[\"default\"] = function (e) {\n        var t,\n            r = e.className,\n            o = void 0 === r ? \"\" : r,\n            u = e.contentClassName,\n            f = void 0 === u ? \"\" : u,\n            d = e.children,\n            p = e.square,\n            _ = void 0 !== p && p,\n            O = e.wide,\n            S = void 0 !== O && O,\n            m = e.imageUrl,\n            y = void 0 === m ? \"\" : m,\n            v = e.style,\n            b = void 0 === v ? {} : v,\n            h = a(e, [\"className\", \"contentClassName\", \"children\", \"square\", \"wide\", \"imageUrl\", \"style\"]),\n            C = l[\"default\"](c.CSS_CLASSES.MEDIA, o, ((t = {})[c.CSS_CLASSES.MEDIA_SQUARE] = _, t[c.CSS_CLASSES.MEDIA_16_9] = S, t));\n\n        return i[\"default\"].createElement(\"div\", n({\n          className: C,\n          style: s({\n            imageUrl: y,\n            style: b\n          })\n        }, h), function (e) {\n          var t = e.children,\n              r = e.contentClassName;\n\n          if (t) {\n            var n = l[\"default\"](c.CSS_CLASSES.MEDIA_CONTENT, r);\n            return i[\"default\"].createElement(\"div\", {\n              className: n\n            }, t);\n          }\n        }({\n          children: d,\n          contentClassName: f\n        }));\n      };\n    }\n  });\n});","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.set\");\n\n(function (global) {\n  // minimal symbol polyfill for IE11 and others\n  if (typeof Symbol !== 'function') {\n    var Symbol = function Symbol(name) {\n      return name;\n    };\n\n    Symbol.nonNative = true;\n  }\n\n  var STATE_PLAINTEXT = Symbol('plaintext');\n  var STATE_HTML = Symbol('html');\n  var STATE_COMMENT = Symbol('comment');\n  var ALLOWED_TAGS_REGEX = /<(\\w*)>/g;\n  var NORMALIZE_TAG_REGEX = /<\\/?([^\\s\\/>]+)/;\n\n  function striptags(html, allowable_tags, tag_replacement) {\n    html = html || '';\n    allowable_tags = allowable_tags || [];\n    tag_replacement = tag_replacement || '';\n    var context = init_context(allowable_tags, tag_replacement);\n    return striptags_internal(html, context);\n  }\n\n  function init_striptags_stream(allowable_tags, tag_replacement) {\n    allowable_tags = allowable_tags || [];\n    tag_replacement = tag_replacement || '';\n    var context = init_context(allowable_tags, tag_replacement);\n    return function striptags_stream(html) {\n      return striptags_internal(html || '', context);\n    };\n  }\n\n  striptags.init_streaming_mode = init_striptags_stream;\n\n  function init_context(allowable_tags, tag_replacement) {\n    allowable_tags = parse_allowable_tags(allowable_tags);\n    return {\n      allowable_tags: allowable_tags,\n      tag_replacement: tag_replacement,\n      state: STATE_PLAINTEXT,\n      tag_buffer: '',\n      depth: 0,\n      in_quote_char: ''\n    };\n  }\n\n  function striptags_internal(html, context) {\n    var allowable_tags = context.allowable_tags;\n    var tag_replacement = context.tag_replacement;\n    var state = context.state;\n    var tag_buffer = context.tag_buffer;\n    var depth = context.depth;\n    var in_quote_char = context.in_quote_char;\n    var output = '';\n\n    for (var idx = 0, length = html.length; idx < length; idx++) {\n      var _char = html[idx];\n\n      if (state === STATE_PLAINTEXT) {\n        switch (_char) {\n          case '<':\n            state = STATE_HTML;\n            tag_buffer += _char;\n            break;\n\n          default:\n            output += _char;\n            break;\n        }\n      } else if (state === STATE_HTML) {\n        switch (_char) {\n          case '<':\n            // ignore '<' if inside a quote\n            if (in_quote_char) {\n              break;\n            } // we're seeing a nested '<'\n\n\n            depth++;\n            break;\n\n          case '>':\n            // ignore '>' if inside a quote\n            if (in_quote_char) {\n              break;\n            } // something like this is happening: '<<>>'\n\n\n            if (depth) {\n              depth--;\n              break;\n            } // this is closing the tag in tag_buffer\n\n\n            in_quote_char = '';\n            state = STATE_PLAINTEXT;\n            tag_buffer += '>';\n\n            if (allowable_tags.has(normalize_tag(tag_buffer))) {\n              output += tag_buffer;\n            } else {\n              output += tag_replacement;\n            }\n\n            tag_buffer = '';\n            break;\n\n          case '\"':\n          case '\\'':\n            // catch both single and double quotes\n            if (_char === in_quote_char) {\n              in_quote_char = '';\n            } else {\n              in_quote_char = in_quote_char || _char;\n            }\n\n            tag_buffer += _char;\n            break;\n\n          case '-':\n            if (tag_buffer === '<!-') {\n              state = STATE_COMMENT;\n            }\n\n            tag_buffer += _char;\n            break;\n\n          case ' ':\n          case '\\n':\n            if (tag_buffer === '<') {\n              state = STATE_PLAINTEXT;\n              output += '< ';\n              tag_buffer = '';\n              break;\n            }\n\n            tag_buffer += _char;\n            break;\n\n          default:\n            tag_buffer += _char;\n            break;\n        }\n      } else if (state === STATE_COMMENT) {\n        switch (_char) {\n          case '>':\n            if (tag_buffer.slice(-2) == '--') {\n              // close the comment\n              state = STATE_PLAINTEXT;\n            }\n\n            tag_buffer = '';\n            break;\n\n          default:\n            tag_buffer += _char;\n            break;\n        }\n      }\n    } // save the context for future iterations\n\n\n    context.state = state;\n    context.tag_buffer = tag_buffer;\n    context.depth = depth;\n    context.in_quote_char = in_quote_char;\n    return output;\n  }\n\n  function parse_allowable_tags(allowable_tags) {\n    var tag_set = new Set();\n\n    if (typeof allowable_tags === 'string') {\n      var match;\n\n      while (match = ALLOWED_TAGS_REGEX.exec(allowable_tags)) {\n        tag_set.add(match[1]);\n      }\n    } else if (!Symbol.nonNative && typeof allowable_tags[Symbol.iterator] === 'function') {\n      tag_set = new Set(allowable_tags);\n    } else if (typeof allowable_tags.forEach === 'function') {\n      // IE11 compatible\n      allowable_tags.forEach(tag_set.add, tag_set);\n    }\n\n    return tag_set;\n  }\n\n  function normalize_tag(tag_buffer) {\n    var match = NORMALIZE_TAG_REGEX.exec(tag_buffer);\n    return match ? match[1].toLowerCase() : null;\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(function module_factory() {\n      return striptags;\n    });\n  } else if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = striptags;\n  } else {\n    // Browser\n    global.striptags = striptags;\n  }\n})(this);","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.last-index-of\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"react\", \"prop-types\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"react\"), require(\"prop-types\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.React, global.propTypes);\n    global.undefined = mod.exports;\n  }\n})(void 0, function (exports, _react, _propTypes) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = undefined;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var TextTruncate = function (_Component) {\n    _inherits(TextTruncate, _Component);\n\n    function TextTruncate() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, TextTruncate);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TextTruncate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n        if (_this.rafId) {\n          window.cancelAnimationFrame(_this.rafId);\n        }\n\n        _this.rafId = window.requestAnimationFrame(_this.update.bind(_assertThisInitialized(_this)));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onToggled\", function (truncated) {\n        typeof _this.props.onToggled === 'function' && setTimeout(function () {\n          return _this.props.onToggled(truncated);\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onTruncated\", function () {\n        typeof _this.props.onTruncated === 'function' && setTimeout(function () {\n          return _this.props.onTruncated();\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onCalculated\", function () {\n        typeof _this.props.onCalculated === 'function' && setTimeout(function () {\n          return _this.props.onCalculated();\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"update\", function () {\n        var style = window.getComputedStyle(_this.scope);\n        var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family'], style['letter-spacing']].join(' ');\n        _this.canvas.font = font;\n\n        _this.forceUpdate();\n      });\n\n      return _this;\n    }\n\n    _createClass(TextTruncate, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var canvas = document.createElement('canvas');\n        var docFragment = document.createDocumentFragment();\n        var style = window.getComputedStyle(this.scope);\n        var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family']].join(' ');\n        docFragment.appendChild(canvas);\n        this.canvas = canvas.getContext('2d');\n        this.canvas.font = font;\n        this.forceUpdate();\n        window.addEventListener('resize', this.onResize);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        window.removeEventListener('resize', this.onResize);\n\n        if (this.rafId) {\n          window.cancelAnimationFrame(this.rafId);\n        }\n      }\n    }, {\n      key: \"measureWidth\",\n      value: function measureWidth(text) {\n        return Math.ceil(this.canvas.measureText(text).width);\n      }\n    }, {\n      key: \"getRenderText\",\n      value: function getRenderText() {\n        var _this$props = this.props,\n            containerClassName = _this$props.containerClassName,\n            element = _this$props.element,\n            line = _this$props.line,\n            onCalculated = _this$props.onCalculated,\n            onTruncated = _this$props.onTruncated,\n            onToggled = _this$props.onToggled,\n            text = _this$props.text,\n            textElement = _this$props.textElement,\n            textTruncateChild = _this$props.textTruncateChild,\n            truncateText = _this$props.truncateText,\n            maxCalculateTimes = _this$props.maxCalculateTimes,\n            props = _objectWithoutProperties(_this$props, [\"containerClassName\", \"element\", \"line\", \"onCalculated\", \"onTruncated\", \"onToggled\", \"text\", \"textElement\", \"textTruncateChild\", \"truncateText\", \"maxCalculateTimes\"]);\n\n        var scopeWidth = this.scope.getBoundingClientRect().width; // return if display:none\n\n        if (scopeWidth === 0) {\n          return null;\n        } // return if all of text can be displayed\n\n\n        if (scopeWidth >= this.measureWidth(text)) {\n          this.onToggled(false);\n          return (0, _react.createElement)(textElement, props, text);\n        }\n\n        var childText = '';\n\n        if (textTruncateChild && typeof textTruncateChild.type === 'string') {\n          var type = textTruncateChild.type;\n\n          if (type.indexOf('span') >= 0 || type.indexOf('a') >= 0) {\n            childText = textTruncateChild.props.children;\n          }\n        }\n\n        var currentPos = 1;\n        var maxTextLength = text.length;\n        var truncatedText = '';\n        var splitPos = 0;\n        var startPos = 0;\n        var displayLine = line;\n        var width = 0;\n        var lastIsEng = false;\n        var isPrevLineWithoutSpace = false;\n        var lastPos = 0;\n        var lastSpaceIndex = -1;\n        var ext = '';\n        var loopCnt = 0;\n\n        while (displayLine-- > 0) {\n          ext = displayLine ? '' : truncateText + (childText ? ' ' + childText : '');\n\n          while (currentPos <= maxTextLength) {\n            truncatedText = text.substr(startPos, currentPos);\n            width = this.measureWidth(truncatedText + ext);\n\n            if (width < scopeWidth) {\n              splitPos = text.indexOf(' ', currentPos + 1);\n\n              if (splitPos === -1) {\n                currentPos += 1;\n                lastIsEng = false;\n              } else {\n                lastIsEng = true;\n                currentPos = splitPos;\n              }\n            } else {\n              do {\n                if (loopCnt++ >= maxCalculateTimes) {\n                  break;\n                }\n\n                truncatedText = text.substr(startPos, currentPos);\n\n                if (!displayLine) {\n                  currentPos--;\n                }\n\n                if (truncatedText[truncatedText.length - 1] === ' ') {\n                  truncatedText = text.substr(startPos, currentPos - 1);\n                }\n\n                if (lastIsEng) {\n                  lastSpaceIndex = truncatedText.lastIndexOf(' ');\n\n                  if (lastSpaceIndex > -1) {\n                    currentPos = lastSpaceIndex;\n\n                    if (displayLine) {\n                      currentPos++;\n                    }\n\n                    truncatedText = text.substr(startPos, currentPos);\n                  } else {\n                    currentPos--;\n                    truncatedText = text.substr(startPos, currentPos);\n                  }\n                } else {\n                  currentPos--;\n                  truncatedText = text.substr(startPos, currentPos);\n                }\n\n                width = this.measureWidth(truncatedText + ext);\n              } while (width >= scopeWidth && truncatedText.length > 0);\n\n              startPos += currentPos;\n              break;\n            }\n          }\n\n          if (currentPos >= maxTextLength) {\n            startPos = maxTextLength;\n            break;\n          }\n\n          if (lastIsEng && !isPrevLineWithoutSpace && text.substr(lastPos, currentPos).indexOf(' ') === -1) {\n            isPrevLineWithoutSpace = text.substr(lastPos, currentPos).indexOf(' ') === -1;\n            displayLine--;\n          }\n\n          lastPos = currentPos + 1;\n        }\n\n        if (startPos === maxTextLength) {\n          this.onToggled(false);\n          return (0, _react.createElement)(textElement, props, text);\n        }\n\n        this.onTruncated();\n        this.onToggled(true);\n        return _react2[\"default\"].createElement(\"div\", props, (0, _react.createElement)(textElement, props, text.substr(0, startPos) + truncateText + ' '), textTruncateChild);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var _this$props2 = this.props,\n            element = _this$props2.element,\n            text = _this$props2.text,\n            _this$props2$style = _this$props2.style,\n            style = _this$props2$style === void 0 ? {} : _this$props2$style,\n            containerClassName = _this$props2.containerClassName,\n            line = _this$props2.line,\n            onCalculated = _this$props2.onCalculated,\n            onTruncated = _this$props2.onTruncated,\n            onToggled = _this$props2.onToggled,\n            textElement = _this$props2.textElement,\n            textTruncateChild = _this$props2.textTruncateChild,\n            truncateText = _this$props2.truncateText,\n            maxCalculateTimes = _this$props2.maxCalculateTimes,\n            props = _objectWithoutProperties(_this$props2, [\"element\", \"text\", \"style\", \"containerClassName\", \"line\", \"onCalculated\", \"onTruncated\", \"onToggled\", \"textElement\", \"textTruncateChild\", \"truncateText\", \"maxCalculateTimes\"]);\n\n        var fontWeight = style.fontWeight,\n            fontStyle = style.fontStyle,\n            fontSize = style.fontSize,\n            fontFamily = style.fontFamily;\n        var renderText = this.scope && line ? this.getRenderText() : (0, _react.createElement)(textElement, props, text);\n        ;\n        var rootProps = {\n          ref: function ref(el) {\n            _this2.scope = el;\n          },\n          className: containerClassName,\n          style: {\n            overflow: 'hidden',\n            fontWeight: fontWeight,\n            fontStyle: fontStyle,\n            fontSize: fontSize,\n            fontFamily: fontFamily\n          }\n        };\n        this.scope && this.onCalculated();\n        return (0, _react.createElement)(element, rootProps, renderText);\n      }\n    }]);\n\n    return TextTruncate;\n  }(_react.Component);\n\n  _defineProperty(TextTruncate, \"propTypes\", {\n    containerClassName: _propTypes2[\"default\"].string,\n    element: _propTypes2[\"default\"].string,\n    line: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].bool]),\n    onCalculated: _propTypes2[\"default\"].func,\n    onTruncated: _propTypes2[\"default\"].func,\n    onToggled: _propTypes2[\"default\"].func,\n    text: _propTypes2[\"default\"].string,\n    textElement: _propTypes2[\"default\"].node,\n    textTruncateChild: _propTypes2[\"default\"].node,\n    truncateText: _propTypes2[\"default\"].string,\n    maxCalculateTimes: _propTypes2[\"default\"].number\n  });\n\n  _defineProperty(TextTruncate, \"defaultProps\", {\n    element: 'div',\n    line: 1,\n    text: '',\n    textElement: 'span',\n    truncateText: '',\n    maxCalculateTimes: 10\n  });\n\n  exports[\"default\"] = TextTruncate;\n  ;\n  module.exports = exports[\"default\"];\n});","require(\"core-js/modules/es6.array.for-each\");\n\nmodule.exports = function () {\n  var selection = document.getSelection();\n\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n\n  var active = document.activeElement;\n  var ranges = [];\n\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) {\n    // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' && selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function (range) {\n        selection.addRange(range);\n      });\n    }\n\n    active && active.focus();\n  };\n};","/* eslint-disable no-await-in-loop */\nimport gql from 'graphql-tag';\nimport client from '../apollo/client';\n\n// DatoCMS can return a maximum of a 100 records\nconst recordsPerQuery = 100;\nconst logErrors = (errors) => {\n  if (errors) {\n    errors.map((error) => {\n      // eslint-disable-next-line no-console\n      console.log(error.message);\n      return undefined;\n    });\n    throw new Error('Aborting: DatoCMS errors');\n  }\n};\n\nexport const getCourseFeatureIds = async (courseFeatureRegex) => {\n  let recordsToSkip = 0;\n  let makeNewQuery = true;\n  let result = [];\n\n  while (makeNewQuery) {\n    try {\n      const { data: { allCourseFeatures }, errors } = await client.query({\n        query: gql`{\n          allCourseFeatures(\n            first: ${recordsPerQuery},\n            skip: ${recordsToSkip},\n            filter: {\n              ocwFeature: {matches: {pattern: \"${courseFeatureRegex}\"}}\n            }\n          ) {\n            id\n          }\n        }`,\n      });\n\n      logErrors(errors);\n\n      result = result.concat(allCourseFeatures);\n      recordsToSkip += recordsPerQuery;\n      if (allCourseFeatures.length < recordsPerQuery) {\n        makeNewQuery = false;\n      }\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  return result.map(item => item.id);\n};\n\nexport const getCourseCollectionIds = async (courseCollectionRegex) => {\n  let recordsToSkip = 0;\n  let makeNewQuery = true;\n  let result = [];\n\n  while (makeNewQuery) {\n    try {\n      const { data: { allCourseCollections }, errors } = await client.query({\n        query: gql`{\n          allCourseCollections(\n            first: ${recordsPerQuery},\n            skip: ${recordsToSkip},\n            filter: {\n              ocwFeature: {matches: {pattern: \"${courseCollectionRegex}\"}}\n            }\n          ) {\n            id\n          }\n        }`,\n      });\n\n      logErrors(errors);\n\n      result = result.concat(allCourseCollections);\n      recordsToSkip += recordsPerQuery;\n      if (allCourseCollections.length < recordsPerQuery) {\n        makeNewQuery = false;\n      }\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  return result.map(item => item.id);\n};\n\nexport const getCoursewares = async (\n  courseSearch,\n  courseTopic,\n  courseFeature,\n  courseLevel,\n) => {\n  const courseSearchRegex = courseSearch === '' ? '^.*$' : `^.*${courseSearch}.*$`;\n  // courseTopic is courseCollection in DatoCMS\n  const courseCollectionRegex = courseTopic === 'All' ? '^.*$' : `^${courseTopic}$`;\n  const courseCollectionIds = await getCourseCollectionIds(courseCollectionRegex);\n  const courseFeatureRegex = courseFeature === 'Any' ? '^.*$' : `^${courseFeature}$`;\n  const courseFeatureIds = await getCourseFeatureIds(courseFeatureRegex);\n  const courseLevelRegex = courseLevel === 'All' ? '^.*$' : `^${courseLevel}$`;\n  let recordsToSkip = 0;\n  let makeNewQuery = true;\n  let result = [];\n\n  while (makeNewQuery) {\n    try {\n      const { data: { allCoursewares }, errors } = await client.query({\n        query: gql`{\n          allCoursewares(\n            first: ${recordsPerQuery},\n            skip: ${recordsToSkip},\n            filter: {\n              title: {matches: {pattern: \"${courseSearchRegex}\"}},\n              courseCollections: {anyIn: [${courseCollectionIds}]},\n              courseFeatures: {anyIn: [${courseFeatureIds}]},\n              courseLevel: {matches: {pattern: \"${courseLevelRegex}\"}},\n              \n            }\n          ) {\n            id\n            title\n            courseLevel\n            trackingTitle\n            imageSrc\n            description\n            departmentNumber\n            masterCourseNumber\n          }\n        }`,\n      });\n\n      logErrors(errors);\n\n      result = result.concat(allCoursewares);\n      recordsToSkip += recordsPerQuery;\n      if (allCoursewares.length < recordsPerQuery) {\n        makeNewQuery = false;\n      }\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  return result;\n};\n\nexport const getCoursewaresByIds = async (courseIds) => {\n  let recordsToSkip = 0;\n  let makeNewQuery = true;\n  let result = [];\n\n  while (makeNewQuery) {\n    try {\n      const { data: { allCoursewares }, errors } = await client.query({\n        query: gql`{\n          allCoursewares(\n            first: ${recordsPerQuery},\n            skip: ${recordsToSkip},\n            filter: {\n              id: {in: [${courseIds}]},\n            }\n          ) {\n            id\n            title\n            courseLevel\n            trackingTitle\n            imageSrc\n            description\n            departmentNumber\n            masterCourseNumber\n          }\n        }`,\n      });\n\n      logErrors(errors);\n\n      result = result.concat(allCoursewares);\n      recordsToSkip += recordsPerQuery;\n      if (allCoursewares.length < recordsPerQuery) {\n        makeNewQuery = false;\n      }\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  return result;\n};\n\nexport const getLifelongLearnerCourseIds = async () => {\n  let recordsToSkip = 0;\n  let makeNewQuery = true;\n  let result = [];\n\n  while (makeNewQuery) {\n    try {\n      const { data: { allCoursewares }, errors } = await client.query({\n        query: gql`{\n          allCoursewares(\n            first: ${recordsPerQuery},\n            skip: ${recordsToSkip},\n            filter: {\n              courseLevel: {matches: {pattern: \"^Graduate$\"}}\n            }\n          ) {\n            id\n          }\n        }`,\n      });\n\n      logErrors(errors);\n\n      result = result.concat(allCoursewares);\n      recordsToSkip += recordsPerQuery;\n      if (allCoursewares.length < recordsPerQuery) {\n        makeNewQuery = false;\n      }\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  return result.map(item => item.id);\n};\n\nexport const getEducatorCourseIds = async () => {\n  let recordsToSkip = 0;\n  let makeNewQuery = true;\n  let result = [];\n  const courseFeatureIds = await getCourseFeatureIds('^Instructor Insights$');\n\n  while (makeNewQuery) {\n    try {\n      const { data: { allCoursewares }, errors } = await client.query({\n        query: gql`{\n          allCoursewares(\n            first: ${recordsPerQuery},\n            skip: ${recordsToSkip},\n            filter: {\n              courseFeatures: {anyIn: [${courseFeatureIds}]}\n            }\n          ) {\n            id\n          }\n        }`,\n      });\n\n      logErrors(errors);\n\n      result = result.concat(allCoursewares);\n      recordsToSkip += recordsPerQuery;\n      if (allCoursewares.length < recordsPerQuery) {\n        makeNewQuery = false;\n      }\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  return result.map(item => item.id);\n};\n\nexport const getStudentCourseIds = async () => {\n  let recordsToSkip = 0;\n  let makeNewQuery = true;\n  let result = [];\n\n  while (makeNewQuery) {\n    try {\n      const { data: { allCoursewares }, errors } = await client.query({\n        query: gql`{\n          allCoursewares(\n            first: ${recordsPerQuery},\n            skip: ${recordsToSkip},\n            filter: {\n              courseLevel: {matches: {pattern: \"^Undergraduate$\"}}\n            }\n          ) {\n            id\n          }\n        }`,\n      });\n\n      logErrors(errors);\n\n      result = result.concat(allCoursewares);\n      recordsToSkip += recordsPerQuery;\n      if (allCoursewares.length < recordsPerQuery) {\n        makeNewQuery = false;\n      }\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  return result.map(item => item.id);\n};\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.isBrowser = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar useCreatePortal = typeof _reactDom[\"default\"].createPortal === 'function';\nvar isBrowser = typeof window !== 'undefined';\nexports.isBrowser = isBrowser;\n\nvar Portal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal(props) {\n    var _this;\n\n    _classCallCheck(this, Portal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Portal).call(this, props));\n\n    if (isBrowser) {\n      _this.container = document.createElement('div');\n      document.body.appendChild(_this.container);\n\n      _this.renderLayer();\n    }\n\n    return _this;\n  }\n\n  _createClass(Portal, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.renderLayer();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!useCreatePortal) {\n        _reactDom[\"default\"].unmountComponentAtNode(this.container);\n      }\n\n      document.body.removeChild(this.container);\n    }\n  }, {\n    key: \"renderLayer\",\n    value: function renderLayer() {\n      if (!useCreatePortal) {\n        _reactDom[\"default\"].unstable_renderSubtreeIntoContainer(this, this.props.children, this.container);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (useCreatePortal) {\n        return _reactDom[\"default\"].createPortal(this.props.children, this.container);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(_react[\"default\"].Component);\n\nPortal.propTypes = {\n  children: _propTypes[\"default\"].node.isRequired\n};\nvar _default = Portal;\nexports[\"default\"] = _default;","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useCallback } from 'react';\nimport { navigate } from 'gatsby';\nimport Store from '../store/store';\nimport lifelongLearner from '../images/lifelong-learner.jpg';\nimport educator from '../images/educator.jpg';\nimport student from '../images/student.jpg';\nimport styles from './ocw-users.module.scss';\n\nconst OcwUsers = () => {\n  const {\n    setCourseTopic,\n    setCourseFeature,\n    setCourseLevel,\n  } = Store.useContainer();\n  const setUserState = useCallback(\n    (user) => {\n      switch (user) {\n        case 'lifelong-learner':\n          setCourseTopic('All');\n          setCourseFeature('Any');\n          setCourseLevel('Graduate');\n          break;\n        case 'educator':\n          setCourseTopic('All');\n          setCourseFeature('Instructor Insights');\n          setCourseLevel('All');\n          break;\n        // Student\n        default:\n          setCourseTopic('All');\n          setCourseFeature('Any');\n          setCourseLevel('Undergraduate');\n      }\n    },\n  );\n  const navigateToDiscovery = useCallback(\n    (event) => {\n      setUserState(event.currentTarget.getAttribute('data-user'));\n      navigate('discovery');\n    },\n  );\n\n  return (\n    <div className={styles.cardList}>\n      <div className={styles.card}>\n        <img\n          className={styles.image}\n          src={lifelongLearner}\n          alt=\"Lifelong Learner\"\n          data-user=\"lifelong-learner\"\n          onClick={navigateToDiscovery}\n        />\n        <h3 className={styles.title}>\n          Lifelong Learner\n        </h3>\n        <p className={styles.description}>\n          You are familiar with college coursework and interested in gaining additional knowledge.\n        </p>\n      </div>\n      <div className={styles.card}>\n        <img\n          className={styles.image}\n          src={educator}\n          alt=\"Educator\"\n          data-user=\"educator\"\n          onClick={navigateToDiscovery}\n        />\n        <h3 className={styles.title}>\n          Educator\n        </h3>\n        <p className={styles.description}>\n          You are an instructor interested in finding additional resources for you and your\n          students.\n        </p>\n      </div>\n      <div className={styles.card}>\n        <img\n          className={styles.image}\n          src={student}\n          alt=\"Student\"\n          data-user=\"student\"\n          onClick={navigateToDiscovery}\n        />\n        <h3 className={styles.title}>\n          Student\n        </h3>\n        <p className={styles.description}>\n          You are a student looking to supplement your coursework.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default OcwUsers;\n","import React from 'react';\nimport { FaCircleNotch } from 'react-icons/fa';\nimport styles from './courseware-list.module.scss';\n\nconst OcwUserCardLoading = () => (\n  <>\n    <div className={styles.coursewareListLoading}>\n      <FaCircleNotch className={styles.spinner} />\n    </div>\n  </>\n);\n\nexport default OcwUserCardLoading;\n","import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport CoursewareCard from './courseware-card';\nimport OcwUserCardLoading from './ocw-user-card-loading';\n\n// The following logic was initially in use-ocw-user-query and was moved here in order for the\n// tests to pass.\n\nexport const COURSEWARE_QUERY = gql`\n  query($coursewareUid: ItemId) {\n    allCoursewares(\n      first: 100,\n      orderBy: [title_ASC],\n      filter: {\n        id: {eq: $coursewareUid},\n      }\n    ) {\n      id\n      title\n      courseLevel\n      trackingTitle\n      imageSrc\n      description\n      departmentNumber\n      masterCourseNumber\n    }\n  }\n`;\n\nconst OcwUserCard = ({ id, favoriteCoursewares }) => {\n  const { data, loading } = useQuery(COURSEWARE_QUERY, {\n    variables: {\n      coursewareUid: id,\n    },\n    skip: id === '',\n  });\n\n  if (data && !loading) {\n    return (\n      <CoursewareCard\n        courseware={data.allCoursewares[0]}\n        cardType=\"condensed\"\n        favoriteCoursewares={favoriteCoursewares}\n      />\n    );\n  }\n\n  return <OcwUserCardLoading />;\n};\n\nexport default OcwUserCard;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, {\n  useState,\n  useEffect,\n  useContext,\n  useCallback,\n} from 'react';\nimport { query as q } from 'faunadb';\nimport { navigate } from 'gatsby';\nimport { Store, get, keys } from 'idb-keyval';\nimport { FaunaContext } from '../faunadb/client';\nimport useSiteMetadata from '../hooks/use-site-metadata';\nimport SEO from '../components/seo';\nimport Layout from '../components/layout';\nimport {\n  getLifelongLearnerCourseIds,\n  getEducatorCourseIds,\n  getStudentCourseIds,\n} from '../datocms/query-datocms';\nimport OcwUsers from '../components/ocw-users';\nimport OcwUserCard from '../components/ocw-user-card';\nimport { isAuthenticated } from '../scripts/auth';\nimport shortid from '../scripts/shortid';\nimport '../styles/global.scss';\nimport styles from './index.module.scss';\nimport userStyles from '../components/ocw-users.module.scss';\nimport '../components/courseware-card.scss';\n\nconst IndexPage = () => {\n  const [lifelongLearnerCourseId, setlifelongLearnerCourseId] = useState('');\n  const [studentCourseId, setStudentCourseId] = useState('');\n  const [educatorCourseId, setEducatorCourseId] = useState('');\n  const [syncedCoursewares, setSyncedCoursewares] = useState([]);\n  const [favoriteCoursewares, setFavoriteCoursewares] = useState([]);\n  const client = useContext(FaunaContext);\n  const coursewareStore = new Store('ocw-store', 'courseware');\n  const online = window.navigator.onLine;\n\n  const randomItem = arr => arr[Math.floor(Math.random() * arr.length)];\n\n  const { siteMetadata } = useSiteMetadata();\n\n  useEffect(() => {\n    const getSyncedData = async () => {\n      const indices = await keys(coursewareStore);\n      const newSyncedCoursewares = [];\n      // eslint-disable-next-line no-restricted-syntax\n      for (const index of indices) {\n        // eslint-disable-next-line no-await-in-loop\n        const value = await get(index, coursewareStore);\n        newSyncedCoursewares.push({\n          uid: index,\n          data: JSON.parse(value),\n        });\n      }\n      setSyncedCoursewares(newSyncedCoursewares);\n    };\n    if (!online) {\n      getSyncedData();\n    }\n  }, []);\n\n  useEffect(() => {\n    const getData = async () => {\n      let result;\n      result = await getLifelongLearnerCourseIds();\n      setlifelongLearnerCourseId(randomItem(result));\n      result = await getStudentCourseIds();\n      setStudentCourseId(randomItem(result));\n      result = await getEducatorCourseIds();\n      setEducatorCourseId(randomItem(result));\n      setFavoriteCoursewares([]);\n      if (isAuthenticated()) {\n        // Get user name from local storage\n        const user = window.localStorage.getItem('userName') || '';\n        // Check if user already exists in FaunaDb\n        const initResult = await client.query(\n          q.Map(\n            q.Paginate(\n              q.Match(q.Index('all_users')),\n            ),\n            q.Lambda('X', q.Get(q.Var('X'))),\n          ),\n        );\n        const users = initResult.data;\n        // User does not exist in FaunaDB, create one\n        // and populate favoriteCoursewares with empty array\n        if (users && !users.find(el => el.data.name === user)) {\n          // Create\n          await client.query(\n            q.Create(\n              q.Collection('users'), {\n                data: {\n                  name: user,\n                  favoriteCoursewares: [],\n                },\n              },\n            ),\n          );\n        // User exists, fetch favoriteCoursewares\n        } else {\n          const readResult = await client.query(\n            q.Get(\n              q.Match(q.Index('users_by_name'), user),\n            ),\n          );\n          setFavoriteCoursewares(readResult.data.favoriteCoursewares);\n        }\n      }\n    };\n    if (online) {\n      getData();\n    }\n  }, []);\n\n  const navigateToCourseware = useCallback(\n    (event) => {\n      const uid = event.currentTarget.getAttribute('data-courseware-uid');\n      navigate(`courseware/?courseware_uid=${uid}`);\n      event.preventDefault();\n    },\n  );\n\n  let content;\n\n  if (online) {\n    content = (\n      <>\n        <h3>What type of OCW user are you?</h3>\n        <OcwUsers />\n        <div className={`${userStyles.cardList} ${userStyles.cardListBottom}`}>\n          <div>\n            <p className={userStyles.cardDescription}>Lifelong learners view...</p>\n            <OcwUserCard\n              id={lifelongLearnerCourseId}\n              favoriteCoursewares={favoriteCoursewares}\n            />\n          </div>\n          <div>\n            <p className={userStyles.cardDescription}>Educators view...</p>\n            <OcwUserCard\n              id={educatorCourseId}\n              favoriteCoursewares={favoriteCoursewares}\n            />\n          </div>\n          <div>\n            <p className={userStyles.cardDescription}>Students view...</p>\n            <OcwUserCard\n              id={studentCourseId}\n              favoriteCoursewares={favoriteCoursewares}\n            />\n          </div>\n        </div>\n      </>\n    );\n  } else {\n    const syncedCoursewaresEl = syncedCoursewares.map(syncedCourseware => {\n      const coursewareUid = syncedCourseware.uid;\n      const coursewareContent = syncedCourseware.data.allCoursewares[0];\n      return (\n        <div key={shortid()}>\n          <p>\n            <a\n              href=\"#\"\n              data-courseware-uid={coursewareUid}\n              className=\"courseware-card-title\"\n              onClick={navigateToCourseware}\n            >\n              {coursewareContent.title}\n            </a>\n          </p>\n          <p className=\"courseware-card-subtitle\">\n            {`${coursewareContent.departmentNumber}.${coursewareContent.masterCourseNumber}, ${coursewareContent.courseLevel} Level`}\n          </p>\n        </div>\n      );\n    });\n    content = (\n      <>\n        <h3>Synchronized coursewares</h3>\n        {syncedCoursewaresEl}\n      </>\n    );\n  }\n\n  return (\n    <Layout>\n      <SEO\n        siteTitle={siteMetadata.title}\n        siteDescription={siteMetadata.description}\n      />\n      <div className={styles.index}>\n        <h3>About OCW</h3>\n        <p className={userStyles.ocwDescription}>\n          Thousands of people utilize OCW to support their lifelong learning, career advancement,\n          and instruction.\n        </p>\n        {content}\n      </div>\n    </Layout>\n  );\n};\n\nexport default IndexPage;\n","module.exports = __webpack_public_path__ + \"static/lifelong-learner-4ccec736ee2497a233ee760276ab5aa2.jpg\";","\"use strict\";\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getScrollLeft = getScrollLeft;\nexports.getArrowSpacing = getArrowSpacing;\nexports[\"default\"] = positions;\nexports.minArrowPadding = void 0;\n\nvar _getDirection = _interopRequireDefault(require(\"./getDirection\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar minArrowPadding = 5;\nexports.minArrowPadding = minArrowPadding;\nvar bodyPadding = 10;\nvar noArrowDistance = 3;\n/**\n * cross browser scroll positions\n */\n\nfunction getScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\n\nfunction getScrollLeft() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n}\n/**\n * Sets tip max width safely for mobile\n */\n\n\nfunction getTipMaxWidth() {\n  return typeof document !== 'undefined' ? document.documentElement.clientWidth - bodyPadding * 2 : 1000;\n}\n/**\n * Parses align mode from direction if specified with hyphen, defaulting to middle if not -\n * e.g. 'left-start' is mode 'start' and 'left' would be the default of 'middle'\n */\n\n\nfunction parseAlignMode(direction) {\n  var directionArray = direction.split('-');\n\n  if (directionArray.length > 1) {\n    return directionArray[1];\n  }\n\n  return 'middle';\n}\n\nfunction getArrowSpacing(props) {\n  var defaultArrowSpacing = props.arrow ? props.arrowSize : noArrowDistance;\n  return typeof props.distance === 'number' ? props.distance : defaultArrowSpacing;\n}\n/**\n * Gets wrapper's left position for top/bottom tooltips as well as needed width restriction\n */\n\n\nfunction getUpDownPosition(tip, target, state, direction, alignMode, props) {\n  var left = -10000000;\n  var top;\n  var transform = state.showTip ? undefined : 'translateX(-10000000px)';\n  var arrowSpacing = getArrowSpacing(props);\n\n  if (tip) {\n    // get wrapper left position\n    var scrollLeft = getScrollLeft();\n    var targetRect = target.getBoundingClientRect();\n    var targetLeft = targetRect.left + scrollLeft;\n    var halfTargetWidth = Math.round(target.offsetWidth / 2);\n    var tipWidth = Math.min(getTipMaxWidth(), tip.offsetWidth);\n    var arrowCenter = targetLeft + halfTargetWidth;\n    var arrowLeft = arrowCenter - props.arrowSize;\n    var arrowRight = arrowCenter + props.arrowSize;\n\n    if (alignMode === 'start') {\n      left = props.arrow ? Math.min(arrowLeft, targetLeft) : targetLeft;\n    } else if (alignMode === 'end') {\n      var rightWithArrow = Math.max(arrowRight, targetLeft + target.offsetWidth);\n      var rightEdge = props.arrow ? rightWithArrow : targetLeft + target.offsetWidth;\n      left = Math.max(rightEdge - tipWidth, bodyPadding + scrollLeft);\n    } else {\n      var centeredLeft = targetLeft + halfTargetWidth - Math.round(tipWidth / 2);\n      var availableSpaceOnLeft = bodyPadding + scrollLeft;\n      left = Math.max(centeredLeft, availableSpaceOnLeft);\n    } // check for right overhang\n\n\n    var rightOfTip = left + tipWidth;\n    var rightOfScreen = scrollLeft + document.documentElement.clientWidth - bodyPadding;\n    var rightOverhang = rightOfTip - rightOfScreen;\n\n    if (rightOverhang > 0) {\n      left -= rightOverhang;\n    }\n\n    if (direction === 'up') {\n      top = targetRect.top + getScrollTop() - (tip.offsetHeight + arrowSpacing);\n    } else {\n      top = targetRect.bottom + getScrollTop() + arrowSpacing;\n    }\n  }\n\n  return {\n    left: left,\n    top: top,\n    transform: transform\n  };\n}\n/**\n * gets top position for left/right arrows\n */\n\n\nfunction getLeftRightPosition(tip, target, state, direction, alignMode, props) {\n  var left = -10000000;\n  var top = 0;\n  var transform = state.showTip ? undefined : 'translateX(-10000000px)';\n  var arrowSpacing = getArrowSpacing(props);\n  var arrowPadding = props.arrow ? minArrowPadding : 0;\n\n  if (tip) {\n    var scrollTop = getScrollTop();\n    var scrollLeft = getScrollLeft();\n    var targetRect = target.getBoundingClientRect();\n    var targetTop = targetRect.top + scrollTop;\n    var halfTargetHeight = Math.round(target.offsetHeight / 2);\n    var arrowTop = targetTop + halfTargetHeight - props.arrowSize;\n    var arrowBottom = targetRect.top + scrollTop + halfTargetHeight + props.arrowSize; // TODO: handle close to edges better\n\n    if (alignMode === 'start') {\n      top = props.arrow ? Math.min(targetTop, arrowTop) : targetTop;\n    } else if (alignMode === 'end') {\n      var topForBottomAlign = targetRect.bottom + scrollTop - tip.offsetHeight;\n      top = props.arrow ? Math.max(topForBottomAlign, arrowBottom - tip.offsetHeight) : topForBottomAlign;\n    } else {\n      // default to middle, but don't go below body\n      var centeredTop = Math.max(targetTop + halfTargetHeight - Math.round(tip.offsetHeight / 2), bodyPadding + scrollTop); // make sure it doesn't go below the arrow\n\n      top = Math.min(centeredTop, arrowTop - arrowPadding);\n    } // check for bottom overhang\n\n\n    var bottomOverhang = top - scrollTop + tip.offsetHeight + bodyPadding - window.innerHeight;\n\n    if (bottomOverhang > 0) {\n      // try to add the body padding below the tip, but don't offset too far from the arrow\n      top = Math.max(top - bottomOverhang, arrowBottom + arrowPadding - tip.offsetHeight);\n    }\n\n    if (direction === 'right') {\n      left = targetRect.right + arrowSpacing + scrollLeft;\n    } else {\n      left = targetRect.left - arrowSpacing - tip.offsetWidth + scrollLeft;\n    }\n  }\n\n  return {\n    left: left,\n    top: top,\n    transform: transform\n  };\n}\n/**\n * sets the Arrow styles based on direction\n */\n\n\nfunction getArrowStyles(target, tip, direction, state, props) {\n  if (!target || !props.arrow) {\n    return {\n      top: '0',\n      left: '-10000000px'\n    };\n  }\n\n  var targetRect = target.getBoundingClientRect();\n  var halfTargetHeight = Math.round(target.offsetHeight / 2);\n  var halfTargetWidth = Math.round(target.offsetWidth / 2);\n  var scrollTop = getScrollTop();\n  var scrollLeft = getScrollLeft();\n  var arrowSpacing = getArrowSpacing(props);\n  var borderStyles = {};\n\n  switch (direction) {\n    case 'right':\n      borderStyles.borderTop = \"\".concat(props.arrowSize, \"px solid transparent\");\n      borderStyles.borderBottom = \"\".concat(props.arrowSize, \"px solid transparent\");\n\n      if (props.background) {\n        borderStyles.borderRight = \"\".concat(props.arrowSize, \"px solid \").concat(props.background);\n      } else {\n        borderStyles.borderRightWidth = \"\".concat(props.arrowSize, \"px\");\n        borderStyles.borderRightStyle = 'solid';\n      }\n\n      return _objectSpread({}, borderStyles, {\n        top: state.showTip && tip ? targetRect.top + scrollTop + halfTargetHeight - props.arrowSize : '-10000000px',\n        left: targetRect.right + scrollLeft + arrowSpacing - props.arrowSize\n      });\n\n    case 'left':\n      borderStyles.borderTop = \"\".concat(props.arrowSize, \"px solid transparent\");\n      borderStyles.borderBottom = \"\".concat(props.arrowSize, \"px solid transparent\");\n\n      if (props.background) {\n        borderStyles.borderLeft = \"\".concat(props.arrowSize, \"px solid \").concat(props.background);\n      } else {\n        borderStyles.borderLeftWidth = \"\".concat(props.arrowSize, \"px\");\n        borderStyles.borderLeftStyle = 'solid';\n      }\n\n      return _objectSpread({}, borderStyles, {\n        top: state.showTip && tip ? targetRect.top + scrollTop + halfTargetHeight - props.arrowSize : '-10000000px',\n        left: targetRect.left + scrollLeft - arrowSpacing - 1\n      });\n\n    case 'up':\n      borderStyles.borderLeft = \"\".concat(props.arrowSize, \"px solid transparent\");\n      borderStyles.borderRight = \"\".concat(props.arrowSize, \"px solid transparent\"); // if color is styled with css, we need everything except border-color, if styled with props, we add entire border rule\n\n      if (props.background) {\n        borderStyles.borderTop = \"\".concat(props.arrowSize, \"px solid \").concat(props.background);\n      } else {\n        borderStyles.borderTopWidth = \"\".concat(props.arrowSize, \"px\");\n        borderStyles.borderTopStyle = 'solid';\n      }\n\n      return _objectSpread({}, borderStyles, {\n        left: state.showTip && tip ? targetRect.left + scrollLeft + halfTargetWidth - props.arrowSize : '-10000000px',\n        top: targetRect.top + scrollTop - arrowSpacing\n      });\n\n    case 'down':\n    default:\n      borderStyles.borderLeft = \"\".concat(props.arrowSize, \"px solid transparent\");\n      borderStyles.borderRight = \"\".concat(props.arrowSize, \"px solid transparent\");\n\n      if (props.background) {\n        borderStyles.borderBottom = \"10px solid \".concat(props.background);\n      } else {\n        borderStyles.borderBottomWidth = \"\".concat(props.arrowSize, \"px\");\n        borderStyles.borderBottomStyle = 'solid';\n      }\n\n      return _objectSpread({}, borderStyles, {\n        left: state.showTip && tip ? targetRect.left + scrollLeft + halfTargetWidth - props.arrowSize : '-10000000px',\n        top: targetRect.bottom + scrollTop + arrowSpacing - props.arrowSize\n      });\n  }\n}\n/**\n * Returns the positions style rules\n */\n\n\nfunction positions(direction, forceDirection, tip, target, state, props) {\n  var alignMode = parseAlignMode(direction);\n  var trimmedDirection = direction.split('-')[0];\n  var realDirection = trimmedDirection;\n\n  if (!forceDirection && tip) {\n    var testArrowStyles = props.arrow && getArrowStyles(target, tip, trimmedDirection, state, props);\n    realDirection = (0, _getDirection[\"default\"])(trimmedDirection, tip, target, props, bodyPadding, testArrowStyles);\n  }\n\n  var maxWidth = getTipMaxWidth(); // force the tip to display the width we measured everything at when visible\n\n  var width;\n\n  if (tip) {\n    // adding the exact width on the first render forces a bogus line break, so add 1px the first time\n    var spacer = tip.style.width ? 0 : 1;\n    width = Math.min(tip.offsetWidth, maxWidth) + spacer;\n  }\n\n  var tipPosition = realDirection === 'up' || realDirection === 'down' ? getUpDownPosition(tip, target, state, realDirection, alignMode, props) : getLeftRightPosition(tip, target, state, realDirection, alignMode, props);\n  return {\n    tip: _objectSpread({}, tipPosition, {\n      maxWidth: maxWidth,\n      width: width\n    }),\n    arrow: getArrowStyles(target, tip, realDirection, state, props),\n    realDirection: realDirection\n  };\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getDirection;\n\nvar _position = require(\"./position\");\n/**\n * Checks the intended tip direction and falls back if not enough space\n */\n\n\nfunction checkLeftRightWidthSufficient(tip, target, distance, bodyPadding) {\n  var targetRect = target.getBoundingClientRect();\n  var deadSpace = Math.min(targetRect.left, document.documentElement.clientWidth - targetRect.right);\n  return tip.offsetWidth + target.offsetWidth + distance + bodyPadding + deadSpace < document.documentElement.clientWidth;\n}\n\nfunction checkTargetSufficientlyVisible(target, tip, props) {\n  var targetRect = target.getBoundingClientRect();\n  var bottomOverhang = targetRect.bottom > window.innerHeight;\n  var topOverhang = targetRect.top < 0; // if the target is taller than the viewport (and we know there's sufficient left/right width before this is called),\n  // then go with the left/right direction as top/bottom will both be off screen\n\n  if (topOverhang && bottomOverhang) {\n    return true;\n  } // if the target is bigger than the tip, we need to check if enough of the target is visible\n\n\n  if (target.offsetHeight > tip.offsetHeight) {\n    var halfTargetHeight = target.offsetHeight / 2;\n    var arrowClearance = props.arrowSize + _position.minArrowPadding;\n    var bottomOverhangAmount = targetRect.bottom - window.innerHeight;\n    var topOverhangAmount = -targetRect.top;\n    var targetCenterToBottomOfWindow = halfTargetHeight - bottomOverhangAmount;\n    var targetCenterToTopOfWindow = halfTargetHeight - topOverhangAmount;\n    return targetCenterToBottomOfWindow >= arrowClearance && targetCenterToTopOfWindow >= arrowClearance;\n  } // otherwise just check that the whole target is visible\n\n\n  return !bottomOverhang && !topOverhang;\n}\n\nfunction checkForArrowOverhang(props, arrowStyles, bodyPadding) {\n  var scrollLeft = (0, _position.getScrollLeft)();\n  var hasLeftClearance = arrowStyles.left - scrollLeft > bodyPadding;\n  var hasRightClearance = arrowStyles.left + props.arrowSize * 2 < scrollLeft + document.documentElement.clientWidth - bodyPadding;\n  return !hasLeftClearance || !hasRightClearance;\n}\n\nfunction getDirection(currentDirection, tip, target, props, bodyPadding, arrowStyles, recursive) {\n  // can't switch until target is rendered\n  if (!target) {\n    return currentDirection;\n  }\n\n  var targetRect = target.getBoundingClientRect();\n  var arrowSpacing = (0, _position.getArrowSpacing)(props); // this is how much space is needed to display the tip above or below the target\n\n  var heightOfTipWithArrow = tip.offsetHeight + arrowSpacing + bodyPadding;\n  var spaceBelowTarget = window.innerHeight - targetRect.bottom;\n  var spaceAboveTarget = targetRect.top;\n  var hasSpaceBelow = spaceBelowTarget >= heightOfTipWithArrow;\n  var hasSpaceAbove = spaceAboveTarget >= heightOfTipWithArrow;\n\n  switch (currentDirection) {\n    case 'right':\n      // if the window is not wide enough try top (which falls back to down)\n      if (!checkLeftRightWidthSufficient(tip, target, arrowSpacing, bodyPadding) || !checkTargetSufficientlyVisible(target, tip, props)) {\n        return getDirection('up', tip, target, arrowSpacing, bodyPadding, arrowStyles, true);\n      }\n\n      if (document.documentElement.clientWidth - targetRect.right < tip.offsetWidth + arrowSpacing + bodyPadding) {\n        return 'left';\n      }\n\n      return 'right';\n\n    case 'left':\n      // if the window is not wide enough try top (which falls back to down)\n      if (!checkLeftRightWidthSufficient(tip, target, arrowSpacing, bodyPadding) || !checkTargetSufficientlyVisible(target, tip, props)) {\n        return getDirection('up', tip, target, arrowSpacing, bodyPadding, arrowStyles, true);\n      }\n\n      if (targetRect.left < tip.offsetWidth + arrowSpacing + bodyPadding) {\n        return 'right';\n      }\n\n      return 'left';\n\n    case 'up':\n      if (!recursive && arrowStyles && checkForArrowOverhang(props, arrowStyles, bodyPadding)) {\n        return getDirection('left', tip, target, arrowSpacing, bodyPadding, arrowStyles, true);\n      }\n\n      if (!hasSpaceAbove) {\n        if (hasSpaceBelow) {\n          return 'down';\n        }\n\n        if (!recursive && checkLeftRightWidthSufficient(tip, target, arrowSpacing, bodyPadding)) {\n          return getDirection('right', tip, target, arrowSpacing, bodyPadding, arrowStyles, true);\n        }\n      }\n\n      return 'up';\n\n    case 'down':\n    default:\n      if (!recursive && arrowStyles && checkForArrowOverhang(props, arrowStyles, bodyPadding)) {\n        return getDirection('right', tip, target, arrowSpacing, bodyPadding, arrowStyles, true);\n      }\n\n      if (!hasSpaceBelow) {\n        // if there's no space below, but space above, switch to that direction\n        if (hasSpaceAbove) {\n          return 'up'; // if there's not space above or below, check if there would be space left or right\n        }\n\n        if (!recursive && checkLeftRightWidthSufficient(tip, target, arrowSpacing, bodyPadding)) {\n          return getDirection('right', tip, target, arrowSpacing, bodyPadding, arrowStyles, true);\n        } // if there's no space in any direction, default to the original direction\n\n      }\n\n      return 'down';\n  }\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Portal = _interopRequireWildcard(require(\"./Portal\"));\n\nvar _position = _interopRequireDefault(require(\"./position\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // default colors\n\n\nvar defaultColor = '#fff';\nvar defaultBg = '#333';\nvar resizeThrottle = 100;\nvar resizeThreshold = 5;\n\nvar stopProp = function stopProp(e) {\n  return e.stopPropagation();\n};\n\nvar Tooltip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Tooltip, _React$Component);\n\n  _createClass(Tooltip, null, [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps) {\n      return _Portal.isBrowser && nextProps.isOpen ? {\n        hasBeenShown: true\n      } : null;\n    }\n  }]);\n\n  function Tooltip() {\n    var _this;\n\n    _classCallCheck(this, Tooltip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tooltip).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"debounceTimeout\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"hoverTimeout\", false);\n\n    _this.state = {\n      showTip: false,\n      hasHover: false,\n      ignoreShow: false,\n      hasBeenShown: false\n    };\n    _this.showTip = _this.showTip.bind(_assertThisInitialized(_this));\n    _this.hideTip = _this.hideTip.bind(_assertThisInitialized(_this));\n    _this.checkHover = _this.checkHover.bind(_assertThisInitialized(_this));\n    _this.toggleTip = _this.toggleTip.bind(_assertThisInitialized(_this));\n    _this.startHover = _this.startHover.bind(_assertThisInitialized(_this));\n    _this.endHover = _this.endHover.bind(_assertThisInitialized(_this));\n    _this.listenResizeScroll = _this.listenResizeScroll.bind(_assertThisInitialized(_this));\n    _this.handleResizeScroll = _this.handleResizeScroll.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // if the isOpen prop is passed on first render we need to immediately trigger a second render,\n      // because the tip ref is needed to calculate the position\n      if (this.props.isOpen) {\n        // eslint-disable-next-line react/no-did-mount-set-state\n        this.setState({\n          isOpen: true\n        });\n      }\n\n      window.addEventListener('resize', this.listenResizeScroll);\n      window.addEventListener('scroll', this.listenResizeScroll);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      // older versions of react won't leverage getDerivedStateFromProps, TODO: remove when < 16.3 support is dropped\n      if (!this.state.hasBeenShown && this.props.isOpen) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          hasBeenShown: true\n        });\n        return setTimeout(this.showTip, 0);\n      } // we need to render once to get refs in place, then we can make the calculations on a followup render\n      // this only has to happen the first time the tip is shown, and allows us to not render every tip on the page with initial render.\n\n\n      if (!prevState.hasBeenShown && this.state.hasBeenShown) {\n        this.showTip();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.listenResizeScroll);\n      window.removeEventListener('scroll', this.listenResizeScroll);\n      clearTimeout(this.debounceTimeout);\n      clearTimeout(this.hoverTimeout);\n    }\n  }, {\n    key: \"listenResizeScroll\",\n    value: function listenResizeScroll() {\n      clearTimeout(this.debounceTimeout);\n      this.debounceTimeout = setTimeout(this.handleResizeScroll, resizeThrottle);\n    }\n  }, {\n    key: \"handleResizeScroll\",\n    value: function handleResizeScroll() {\n      if (this.state.showTip) {\n        // if we're showing the tip and the resize was actually a signifigant change, then setState to re-render and calculate position\n        var clientWidth = Math.round(document.documentElement.clientWidth / resizeThreshold) * resizeThreshold;\n        this.setState({\n          clientWidth: clientWidth\n        });\n      }\n    }\n  }, {\n    key: \"toggleTip\",\n    value: function toggleTip() {\n      this.state.showTip ? this.hideTip() : this.showTip();\n    }\n  }, {\n    key: \"showTip\",\n    value: function showTip() {\n      if (!this.state.hasBeenShown) {\n        // this will render once, then fire componentDidUpdate, which will show the tip\n        return this.setState({\n          hasBeenShown: true\n        });\n      }\n\n      this.setState({\n        showTip: true\n      });\n    }\n  }, {\n    key: \"hideTip\",\n    value: function hideTip() {\n      this.setState({\n        hasHover: false\n      });\n      this.setState({\n        showTip: false\n      });\n    }\n  }, {\n    key: \"startHover\",\n    value: function startHover() {\n      if (!this.state.ignoreShow) {\n        this.setState({\n          hasHover: true\n        });\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = setTimeout(this.checkHover, this.props.hoverDelay);\n      }\n    }\n  }, {\n    key: \"endHover\",\n    value: function endHover() {\n      this.setState({\n        hasHover: false\n      });\n      clearTimeout(this.hoverTimeout);\n      this.hoverTimeout = setTimeout(this.checkHover, this.props.mouseOutDelay || this.props.hoverDelay);\n    }\n  }, {\n    key: \"checkHover\",\n    value: function checkHover() {\n      this.state.hasHover ? this.showTip() : this.hideTip();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          arrow = _this$props.arrow,\n          arrowSize = _this$props.arrowSize,\n          background = _this$props.background,\n          className = _this$props.className,\n          children = _this$props.children,\n          color = _this$props.color,\n          content = _this$props.content,\n          direction = _this$props.direction,\n          distance = _this$props.distance,\n          eventOff = _this$props.eventOff,\n          eventOn = _this$props.eventOn,\n          eventToggle = _this$props.eventToggle,\n          forceDirection = _this$props.forceDirection,\n          isOpen = _this$props.isOpen,\n          mouseOutDelay = _this$props.mouseOutDelay,\n          padding = _this$props.padding,\n          styles = _this$props.styles,\n          TagName = _this$props.tagName,\n          tipContentHover = _this$props.tipContentHover,\n          tipContentClassName = _this$props.tipContentClassName,\n          useDefaultStyles = _this$props.useDefaultStyles,\n          useHover = _this$props.useHover;\n      var isControlledByProps = typeof isOpen !== 'undefined' && isOpen !== null;\n      var showTip = isControlledByProps ? isOpen : this.state.showTip;\n\n      var wrapperStyles = _objectSpread({\n        position: 'relative'\n      }, styles);\n\n      var props = {\n        style: wrapperStyles,\n        ref: function ref(target) {\n          _this2.target = target;\n        },\n        className: className\n      };\n      var portalProps = {\n        // keep clicks on the tip from closing click controlled tips\n        onClick: stopProp\n      }; // event handling\n\n      if (eventOff) {\n        props[eventOff] = this.hideTip;\n      }\n\n      if (eventOn) {\n        props[eventOn] = this.showTip;\n      }\n\n      if (eventToggle) {\n        props[eventToggle] = this.toggleTip; // only use hover if they don't have a toggle event\n      } else if (useHover && !isControlledByProps) {\n        props.onMouseEnter = this.startHover;\n        props.onMouseLeave = tipContentHover || mouseOutDelay ? this.endHover : this.hideTip;\n        props.onTouchStart = this.toggleTip;\n\n        if (tipContentHover) {\n          portalProps.onMouseEnter = this.startHover;\n          portalProps.onMouseLeave = this.endHover;\n          portalProps.onTouchStart = stopProp;\n        }\n      } // conditional rendering of tip\n\n\n      var tipPortal;\n\n      if (this.state.hasBeenShown) {\n        var currentPositions = (0, _position[\"default\"])(direction, forceDirection, this.tip, this.target, _objectSpread({}, this.state, {\n          showTip: showTip\n        }), {\n          background: useDefaultStyles ? defaultBg : background,\n          arrow: arrow,\n          arrowSize: arrowSize,\n          distance: distance\n        });\n\n        var tipStyles = _objectSpread({}, currentPositions.tip, {\n          background: useDefaultStyles ? defaultBg : background,\n          color: useDefaultStyles ? defaultColor : color,\n          padding: padding,\n          boxSizing: 'border-box',\n          zIndex: 1000,\n          position: 'absolute',\n          display: 'inline-block'\n        });\n\n        var arrowStyles = _objectSpread({}, currentPositions.arrow, {\n          position: 'absolute',\n          width: '0px',\n          height: '0px',\n          zIndex: 1001\n        });\n\n        tipPortal = _react[\"default\"].createElement(_Portal[\"default\"], null, _react[\"default\"].createElement(\"div\", _extends({}, portalProps, {\n          className: typeof tipContentClassName !== 'undefined' ? tipContentClassName : className\n        }), _react[\"default\"].createElement(\"span\", {\n          className: \"react-tooltip-lite\",\n          style: tipStyles,\n          ref: function ref(tip) {\n            _this2.tip = tip;\n          }\n        }, content), _react[\"default\"].createElement(\"span\", {\n          className: \"react-tooltip-lite-arrow react-tooltip-lite-\".concat(currentPositions.realDirection, \"-arrow\"),\n          style: arrowStyles\n        })));\n      }\n\n      return _react[\"default\"].createElement(TagName, props, children, tipPortal);\n    }\n  }]);\n\n  return Tooltip;\n}(_react[\"default\"].Component);\n\n_defineProperty(Tooltip, \"propTypes\", {\n  arrow: _propTypes[\"default\"].bool,\n  arrowSize: _propTypes[\"default\"].number,\n  background: _propTypes[\"default\"].string,\n  children: _propTypes[\"default\"].node.isRequired,\n  className: _propTypes[\"default\"].string,\n  color: _propTypes[\"default\"].string,\n  content: _propTypes[\"default\"].node.isRequired,\n  direction: _propTypes[\"default\"].string,\n  distance: _propTypes[\"default\"].number,\n  eventOff: _propTypes[\"default\"].string,\n  eventOn: _propTypes[\"default\"].string,\n  eventToggle: _propTypes[\"default\"].string,\n  forceDirection: _propTypes[\"default\"].bool,\n  hoverDelay: _propTypes[\"default\"].number,\n  isOpen: _propTypes[\"default\"].bool,\n  mouseOutDelay: _propTypes[\"default\"].number,\n  padding: _propTypes[\"default\"].string,\n  styles: _propTypes[\"default\"].object,\n  tagName: _propTypes[\"default\"].string,\n  tipContentHover: _propTypes[\"default\"].bool,\n  tipContentClassName: _propTypes[\"default\"].string,\n  useDefaultStyles: _propTypes[\"default\"].bool,\n  useHover: _propTypes[\"default\"].bool\n});\n\n_defineProperty(Tooltip, \"defaultProps\", {\n  arrow: true,\n  arrowSize: 10,\n  background: '',\n  className: '',\n  color: '',\n  direction: 'up',\n  distance: undefined,\n  eventOff: undefined,\n  eventOn: undefined,\n  eventToggle: undefined,\n  forceDirection: false,\n  hoverDelay: 200,\n  isOpen: undefined,\n  mouseOutDelay: undefined,\n  padding: '10px',\n  styles: {},\n  tagName: 'div',\n  tipContentHover: false,\n  tipContentClassName: undefined,\n  useDefaultStyles: false,\n  useHover: true\n});\n\nvar _default = Tooltip;\nexports[\"default\"] = _default;","module.exports = __webpack_public_path__ + \"static/educator-44f4b69515e20854ef0ea2c702d509bb.jpg\";","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, {\n  useState,\n  useCallback,\n  useContext,\n  useEffect,\n} from 'react';\nimport Card, {\n  CardMedia,\n  CardActions,\n  CardActionButtons,\n  CardActionIcons,\n} from '@material/react-card';\nimport Button from '@material/react-button';\nimport {\n  MdFavorite, MdFavoriteBorder, MdCloudDownload, MdCloudDone, MdShare,\n} from 'react-icons/md';\nimport TextTruncate from 'react-text-truncate';\nimport Tooltip from 'react-tooltip-lite';\nimport { navigate } from 'gatsby';\nimport { query as q } from 'faunadb';\nimport striptags from 'striptags';\nimport copy from 'copy-to-clipboard';\nimport {\n  Store,\n  get,\n  set,\n  del,\n} from 'idb-keyval';\nimport { FaunaContext } from '../faunadb/client';\nimport { isAuthenticated } from '../scripts/auth';\nimport useIndividualCoursewareQuery from '../hooks/use-individual-courseware-query';\nimport './courseware-card.scss';\n\n// TODO: Replace departmentNumber by department once this field is present in DatoCMS\nconst CoursewareCard = ({ courseware, cardType, favoriteCoursewares }) => {\n  const [favorite, setFavorite] = useState(favoriteCoursewares.includes(courseware.id));\n  const [synced, setSynced] = useState(false);\n  const [syncing, setSyncing] = useState(false);\n  const client = useContext(FaunaContext);\n  const coursewareStore = new Store('ocw-store', 'courseware');\n  const syncingUid = syncing ? courseware.id : null;\n  const { data, loading } = useIndividualCoursewareQuery(syncingUid);\n\n  useEffect(() => {\n    const hasSyncedCourseware = async () => {\n      const result = await get(courseware.id, coursewareStore);\n      setSynced(typeof result !== 'undefined');\n    };\n    hasSyncedCourseware();\n  }, []);\n\n  useEffect(() => {\n    const syncCourseware = async () => {\n      if (synced) {\n        await del(courseware.id, coursewareStore);\n      } else {\n        await set(courseware.id, JSON.stringify(data), coursewareStore);\n      }\n      setSyncing(false);\n      setSynced(!synced);\n    };\n    if (syncing && !loading) {\n      syncCourseware();\n    }\n  }, [syncing, loading]);\n\n  const filledFavoriteIcon = isAuthenticated()\n    ? (\n      <MdFavorite />\n    )\n    : (\n      <Tooltip content=\"Please log in to save course\">\n        <MdFavorite />\n      </Tooltip>\n    );\n  const hollowFavoriteIcon = isAuthenticated()\n    ? (\n      <MdFavoriteBorder />\n    )\n    : (\n      <Tooltip content=\"Please log in to save course\">\n        <MdFavoriteBorder />\n      </Tooltip>\n    );\n  const favoriteIcon = favorite ? filledFavoriteIcon : hollowFavoriteIcon;\n  const syncIcon = !synced\n    ? (\n      <Tooltip content=\"Sync for offline use\">\n        <MdCloudDownload />\n      </Tooltip>\n    )\n    : (\n      <Tooltip content=\"Unsync from local storage\">\n        <MdCloudDone />\n      </Tooltip>\n    );\n  const shareIcon = (\n    <Tooltip content=\"Copy url to clipboard\">\n      <MdShare />\n    </Tooltip>\n  );\n\n  const navigateToCourseware = useCallback(\n    () => {\n      navigate(`courseware/?courseware_uid=${courseware.id}`);\n    },\n  );\n  const favoriteHandleClick = useCallback(\n    () => {\n      const updateFaunaDB = async () => {\n        if (isAuthenticated()) {\n          // Get user name from local storage\n          const user = window.localStorage.getItem('userName') || '';\n          // Get favorite courses from FaunaDB\n          const readResult = await client.query(\n            q.Get(\n              q.Match(q.Index('users_by_name'), user),\n            ),\n          );\n          let newFavoriteCoursewares = [...readResult.data.favoriteCoursewares];\n          if (favorite) {\n            const index = newFavoriteCoursewares.indexOf(courseware.id);\n            newFavoriteCoursewares.splice(index, 1);\n          } else {\n            newFavoriteCoursewares = [...newFavoriteCoursewares, courseware.id];\n          }\n          setFavorite(!favorite);\n          // Update favorite courses on FaunaDB\n          await client.query(\n            q.Update(readResult.ref, {\n              data: {\n                favoriteCoursewares: newFavoriteCoursewares,\n              },\n            }),\n          );\n        }\n      };\n      updateFaunaDB();\n    },\n  );\n  const syncHandleClick = useCallback(\n    () => {\n      setSyncing(true);\n    },\n  );\n  const shareHandleClick = useCallback(\n    () => {\n      // Copy courseware url to clipboard\n      copy(`${window.location.host}/courseware/?courseware_uid=${courseware.id}`);\n    },\n  );\n\n  const {\n    title,\n    courseLevel,\n    trackingTitle,\n    imageSrc,\n    description,\n    masterCourseNumber,\n    departmentNumber,\n  } = courseware;\n\n  switch (cardType) {\n    // ##### Regular Card #####\n    case 'regular':\n      return (\n        <Card className=\"courseware-card\">\n          <TextTruncate\n            containerClassName=\"courseware-card-title\"\n            line={1}\n            element=\"span\"\n            truncateText=\"\"\n            text={title}\n          />\n          <span className=\"courseware-card-subtitle\">{`${departmentNumber}.${masterCourseNumber}, ${courseLevel} Level`}</span>\n          <CardMedia\n            title={trackingTitle}\n            wide\n            imageUrl={imageSrc}\n          />\n          <TextTruncate\n            containerClassName=\"courseware-card-subsubtitle\"\n            line={1}\n            element=\"span\"\n            truncateText=\"\"\n            text={`Department: ${departmentNumber}`}\n          />\n          <TextTruncate\n            containerClassName=\"courseware-card-description\"\n            line={2}\n            element=\"span\"\n            truncateText=\"\"\n            text={striptags(description)}\n          />\n          <CardActions className=\"courseware-card-actions\">\n            <CardActionButtons>\n              <Button\n                className=\"courseware-card-button\"\n                dense\n                onClick={navigateToCourseware}\n              >\n                Go to Course\n              </Button>\n            </CardActionButtons>\n            <CardActionIcons>\n              <span\n                className=\"courseware-card-icon\"\n                onClick={favoriteHandleClick}\n              >\n                {favoriteIcon}\n              </span>\n              <span\n                className=\"courseware-card-icon\"\n                onClick={syncHandleClick}\n              >\n                {syncIcon}\n              </span>\n              <span\n                className=\"courseware-card-icon\"\n                onClick={shareHandleClick}\n              >\n                {shareIcon}\n              </span>\n            </CardActionIcons>\n          </CardActions>\n        </Card>\n      );\n    // ##### Condensed Card #####\n    case 'condensed':\n      return (\n        <Card className=\"courseware-card courseware-card-condensed\">\n          <div className=\"courseware-card-header\">\n            <div className=\"courseware-card-text-container\">\n              <div>\n                <TextTruncate\n                  containerClassName=\"courseware-card-title\"\n                  line={1}\n                  element=\"span\"\n                  truncateText=\"\"\n                  text={title}\n                />\n              </div>\n              <div className=\"courseware-card-subtitle\">{`${courseLevel} Level`}</div>\n            </div>\n            <img src={imageSrc} alt={trackingTitle} className=\"courseware-card-thumbnail\" />\n          </div>\n          <CardActions className=\"courseware-card-actions courseware-card-actions-condensed\">\n            <CardActionButtons>\n              <Button\n                className=\"courseware-card-button\"\n                dense\n                onClick={navigateToCourseware}\n              >\n                Go to Course\n              </Button>\n            </CardActionButtons>\n            <CardActionIcons>\n              <span\n                className=\"courseware-card-icon\"\n                onClick={favoriteHandleClick}\n              >\n                {favoriteIcon}\n              </span>\n              <span\n                className=\"courseware-card-icon\"\n                onClick={shareHandleClick}\n              >\n                {shareIcon}\n              </span>\n            </CardActionIcons>\n          </CardActions>\n        </Card>\n      );\n    // ##### Text Card #####\n    case 'text':\n      return (\n        <div className=\"courseware-card-text-card\">\n          <p>\n            <a\n              href=\"#\"\n              className=\"courseware-card-title\"\n              onClick={navigateToCourseware}\n            >\n              {title}\n            </a>\n          </p>\n          <p className=\"courseware-card-subtitle\">\n            {`${departmentNumber}.${masterCourseNumber}, ${courseLevel} Level`}\n          </p>\n          <TextTruncate\n            containerClassName=\"courseware-card-description\"\n            line={1}\n            element=\"span\"\n            truncateText=\"\"\n            text={striptags(description)}\n          />\n        </div>\n      );\n    default:\n      return null;\n  }\n};\n\nexport default CoursewareCard;\n"],"sourceRoot":""}