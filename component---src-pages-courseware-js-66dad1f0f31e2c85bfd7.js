(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{R6s6:function(e,a,t){"use strict";t.r(a);var r=t("kD0k"),n=t.n(r),s=(t("dRSK"),t("ls82"),t("OG14"),t("q1tI")),c=t.n(s),l=t("ma3e"),i=t("qEY2"),u=t("ztCj"),m=t("4+SR"),o=t("A7iQ"),d=t("sc0r"),E=t("vrFN"),p=t("Bl7J"),f=(t("KKXr"),t("Lr+j")),N=t("UA+w"),v=t.n(N),b=function(e){var a=e.url.split("/"),t=a.map((function(e,t){var r=t!==a.length-1?" / ":"";return"courses"===e?c.a.createElement("li",{className:v.a.breadcrumbItem,key:Object(f.a)()},c.a.createElement("a",{href:"/"},e),r):c.a.createElement("li",{className:v.a.breadcrumbItem,key:Object(f.a)()},c.a.createElement("span",null,e),r)}));return c.a.createElement("nav",{"aria-label":"breadcrumb"},c.a.createElement("ul",{className:v.a.breadcrumbList},t))},h=t("h3wZ"),w=t.n(h),y=function(e){var a=e.className,t=e.url,r=e.title,n=e.visits;return c.a.createElement("div",{className:a},c.a.createElement("div",{className:w.a.subheader},c.a.createElement("h3",{className:w.a.title},r),c.a.createElement("h5",{className:w.a.visits},"Visits:Â ",n)),c.a.createElement(b,{url:t}))},g=(t("W4qU"),function(e){var a=e.className,t=e.imageSrc,r=e.imageDescription;return c.a.createElement("div",{className:a},c.a.createElement("img",{src:t,className:"courseware-image",alt:"TBD",title:"TBD"}),c.a.createElement("p",null,c.a.createElement("small",null,r)))}),q=t("d+fh"),j=t("NIcq"),k=t("0kNL"),O=t.n(k),S=function(e){var a=e.className,t=e.title,r=e.children,n=a+" "+O.a.collapsible,l=Object(s.useState)(0),i=l[0],u=l[1],m=Object(s.useCallback)((function(){return u(!i)})),o=i?c.a.createElement(c.a.Fragment,null,r):null,d=i?c.a.createElement(j.f,null):c.a.createElement(j.g,null);return c.a.createElement("div",{className:n,onClick:m},c.a.createElement("div",{className:O.a.title},c.a.createElement("h4",null,t),c.a.createElement("span",{className:O.a.icon},d)),o)},x=function(e,a){switch(e){case"directoryTitle":return a||"Professor";case"imageDescription":return a?a.imageDescription:"None";default:return""}},C=t("P+Eb"),L=t.n(C),D=Object(q.withBreakpoints)((function(e){var a=e.className,t=e.instructors,r=e.departmentNumber,n=e.masterCourseNumber,s=e.fromSemester,l=e.fromYear,i=e.courseLevel,u=e.currentBreakpoint,m=e.breakpoints,o=t.map((function(e){return c.a.createElement("p",{key:f.a.generate()},x("directoryTitle",e.directoryTitle)+" "+e.firstName+" "+e.lastName)})),d=c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:L.a.instructorsHeader},"Instructor(s)"),o,c.a.createElement("h4",null,"MIT Course Number"),c.a.createElement("p",null,r+"."+n),c.a.createElement("h4",null,"As Taught In"),c.a.createElement("p",null,s+" "+l),c.a.createElement("h4",null,"Level"),c.a.createElement("p",null,i));return m[u]<m.sm?c.a.createElement(S,{className:a,title:"Course Metadata"},d):c.a.createElement("div",{className:a},d)})),I=function(e){var a=e.className,t=e.description,r=e.url;return c.a.createElement(S,{className:a,title:"Course Description"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:""+t}}),c.a.createElement("a",{href:"https://ocw.mit.edu/"+r},"Course Link"))},T=t("cN6R"),M=t.n(T),P=function(e){var a=e.className,t=e.coursePages.map((function(e){return c.a.createElement(S,{className:M.a.coursePage,title:e.title,key:Object(f.a)()},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:""+(e.text?e.text:"")}}))}));return c.a.createElement("div",{className:a},t)},_=t("fGtt"),B=t.n(_);t("wAdS"),a.default=function(e){var a,t=e.location,r=Object(s.useContext)(m.a),f=Object(o.a)().siteMetadata,N=Object(s.useState)(0),v=N[0],b=N[1],h=Object(s.useState)(!0),w=h[0],q=h[1],j=Object(s.useState)(!0),k=j[0],O=j[1],S=Object(s.useState)(null),C=S[0],L=S[1],T=new u.a("ocw-store","courseware"),M=window.navigator.onLine,_=""!==t.search?new URL(t.href).searchParams.get("courseware_uid"):null;if(Object(s.useEffect)((function(){var e,a,t,s;M&&n.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(q(!0),!_){c.next=19;break}return c.next=4,n.a.awrap(r.query(i.query.Map(i.query.Paginate(i.query.Match(i.query.Index("all_coursewares"))),i.query.Lambda("X",i.query.Get(i.query.Var("X"))))));case 4:if(e=c.sent,!(a=e.data)||a.find((function(e){return e.data.uid===_}))){c.next=12;break}return c.next=9,n.a.awrap(r.query(i.query.Create(i.query.Collection("coursewares"),{data:{uid:_,visits:1}})));case 9:b(1),c.next=19;break;case 12:return c.next=14,n.a.awrap(r.query(i.query.Get(i.query.Match(i.query.Index("coursewares_by_uid"),_))));case 14:return t=c.sent,s=t.data.visits+1,c.next=18,n.a.awrap(r.query(i.query.Update(t.ref,{data:{visits:s}})));case 18:b(s);case 19:q(!1);case 20:case"end":return c.stop()}}))}),[t]),Object(s.useEffect)((function(){!function(){var e;n.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.a.awrap(Object(u.c)(_,T));case 2:e=a.sent,L(e),O(!1);case 5:case"end":return a.stop()}}))}()}),[]),_){var R,A;if(M){if((R=Object(d.a)(_)).loading||w)return c.a.createElement("div",{className:"spinner-container"},c.a.createElement(l.a,{className:"spinner"}));A=R.data}else{if(k)return c.a.createElement("div",{className:"spinner-container"},c.a.createElement(l.a,{className:"spinner"}));if(!C)return c.a.createElement("p",null,"This course has not been synced");A=JSON.parse(C)}var G=A.allCoursewares;if(0===G.length)return c.a.createElement("div",{className:"spinner-container"},"Not a valid course identificator");var J=G[0],U=J.title,Y=J.imageSrc,F=J.imageDescription,H=J.instructors,K=J.departmentNumber,X=J.masterCourseNumber,V=J.fromSemester,z=J.fromYear,Q=J.courseLevel,W=J.description,Z=J.url,$=J.coursePages;a=c.a.createElement(p.a,null,c.a.createElement(E.a,{siteTitle:f.title,siteDescription:f.description}),c.a.createElement("div",{className:B.a.courseware},c.a.createElement(y,{className:B.a.header,url:Z,title:U,visits:v}),c.a.createElement(g,{imageSrc:Y,imageDescription:x("imageDescription",F)}),c.a.createElement(D,{className:B.a.metadata,instructors:H,departmentNumber:K,masterCourseNumber:X,fromSemester:V,fromYear:z,courseLevel:Q}),c.a.createElement(I,{className:B.a.description,description:W,url:Z}),c.a.createElement(P,{className:B.a.pages,coursePages:$})))}else a=t.href?c.a.createElement("div",{className:"spinner-container"},"Not a valid course identificator"):null;return a}}}]);
//# sourceMappingURL=component---src-pages-courseware-js-66dad1f0f31e2c85bfd7.js.map